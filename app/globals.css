@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --on-surface-1: #fcfcfc;
        --on-surface-2: #efefef;
        --on-surface-3: #e7e9eb;
        --on-surface: #f6f6f6;
        --on-surface-dark: #1a1d1f;
        --on-surface-pure: #ffffff;
        --stroke: #efefef;
        --primary: #1a1d1f;
        --primary-fixed: #1a1d1f;
        --secondary: #6f767e;
        --tertiary: #a7acb0;
        --white-fixed: #fcfcfc;
        --light: #fcfcfc;
        --n-8: #f4f4f4;
        --brand-100: #d8f0ff;
        --red-100: #fde6d7;
        --green-100: #dff9e8;
        --border-brand: #2a9fff;
        --yellow-100: #fee6c7;
        --purple-100: #f5edfa;
        --purple-300: #ddc3ef;
        --yellow-50: #fff6eb;
        --dune: #f0eae3;
        --green: #32ae60;
        --red: #f04d1a;
        --purple: #b981da;
        --yellow: #fba94b;
        --brand: #0c68e9;
    }

    :root[data-theme="dark"] {
        --on-surface-1: #1a1d1f;
        --on-surface-2: #272b30;
        --on-surface-3: #313639;
        --on-surface: #222628;
        --on-surface-dark: #1a1d1f;
        --on-surface-pure: #1a1d1f;
        --stroke: #272b30;
        --primary: #fcfcfc;
        --primary-fixed: #1a1d1f;
        --secondary: #6f767e;
        --tertiary: #5d6267;
        --white-fixed: #fcfcfc;
        --light: #1a1d1f;
        --n-8: #111315;
        --brand-100: #2a323f;
        --red-100: #6a5550;
        --green-100: rgba(68, 90, 76, 0.57);
        --border-brand: #2a9fff;
        --yellow-100: #957a6c;
        --purple-100: rgba(113, 88, 126, 0.38);
        --purple-300: #a375c3;
        --yellow-50: #82776b;
        --dune: #272c30;
    }
}

@layer components {
    .notification span {
        @apply text-theme-primary;
    }
    .react-tooltip {
        @apply !py-1 !text-[0.8125rem] !leading-[1.25rem] !rounded-lg;
    }
    .range {
        @apply w-full appearance-none bg-transparent [&::-webkit-slider-runnable-track]:h-1.5 [&::-webkit-slider-runnable-track]:rounded-sm [&::-webkit-slider-runnable-track]:bg-theme-on-surface-2 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-1.5 [&::-webkit-slider-thumb]:-mt-[0.3125rem] [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-theme-primary;
    }
    .card-color {
        @apply border border-transparent transition-colors;
    }
    .card-color:nth-child(3n + 1) {
        @apply bg-theme-yellow-50;
    }
    .card-color:nth-child(3n + 1):hover {
        @apply border-theme-yellow;
    }
    .card-color:nth-child(3n + 1) .card-icon-color {
        @apply bg-theme-yellow;
    }
    .card-color:nth-child(3n + 2) {
        @apply bg-theme-purple-100;
    }
    .card-color:nth-child(3n + 2):hover {
        @apply border-theme-purple;
    }
    .card-color:nth-child(3n + 2) .card-icon-color {
        @apply bg-theme-purple;
    }
    .card-color:nth-child(3n + 3) {
        @apply bg-theme-green-100;
    }
    .card-color:nth-child(3n + 3):hover {
        @apply border-theme-green;
    }
    .card-color:nth-child(3n + 3) .card-icon-color {
        @apply bg-theme-green;
    }
    .card-color:nth-child(3n + 3) .card-icon-color {
        @apply bg-theme-green;
    }
    .react-codes-custom .react-codes-input__entered-value span {
        @apply !text-theme-tertiary;
    }
}

/* markdown 表格美化样式，自动适配明暗主题 */
.ai-markdown-table {
  border-collapse: separate;
  border-spacing: 0;
  width: 100%;
  margin: 16px 0;
  background: var(--on-surface-1);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.ai-markdown-table th,
.ai-markdown-table td {
  border: none;
  padding: 12px 16px;
}

.ai-markdown-table th {
  background: var(--on-surface-2);
  color: var(--primary);
  font-weight: 600;
  font-size: 1rem;
}

.ai-markdown-table td {
  background: var(--on-surface-1);
  color: var(--primary);
  font-size: 0.98rem;
  border-top: 1px solid var(--on-surface-3);
}

.ai-markdown-table tr:first-child td {
  border-top: none;
}

.ai-markdown-table tr {
  transition: background 0.2s;
}

.ai-markdown-table tr:hover td {
  background: var(--on-surface-2);
}

.ai-suggested-btn-group {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px 16px;
  margin-top: 24px;
}

/* 苹果风格极简滚动条（深色主题） */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(120, 120, 130, 0.18); /* 半透明灰色 */
  border-radius: 999px;
  border: 2px solid transparent;
  min-height: 40px;
  transition: background 0.2s;
  box-shadow: 0 0 1px 1px rgba(0,0,0,0.04);
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(120, 120, 130, 0.32); /* hover时略深 */
}

::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 999px;
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(120,120,130,0.18) transparent;
}

/* 分享卡片专用表格样式，仅在 .share-card 下生效 */
.share-card .ai-markdown-table th,
.share-card .ai-markdown-table td {
  padding: 7px 8px;
}

.share-card .ai-markdown-table th {
  font-size: 13px;
}

.share-card .ai-markdown-table td {
  font-size: 12.5px;
}

/* 分享卡片内容区字体优化（精简，仅保留品牌色和结构优化） */
.share-card h1, .share-card h2, .share-card h3 {
  font-weight: bold;
  color: #0C68E9;
  margin-top: 1.2em;
  margin-bottom: 0.6em;
}

.share-card p {
  margin: 0.7em 0;
}

.share-card ul, .share-card ol {
  margin: 0.7em 0 0.7em 1.2em;
}

.share-card strong {
  font-weight: 700;
  color: #0C68E9;
}
